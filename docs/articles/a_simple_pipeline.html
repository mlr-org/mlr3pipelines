<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Google Site Verification --><meta name="google-site-verification" content="BrjL5fpoyHZu1rR8rwnnM2MBO3u3iIFB8NsmSuOsY84">
<title>Showcase: A simple pipeline • mlr3pipelines</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<script src="../extra.js"></script><meta property="og:title" content="Showcase: A simple pipeline">
<meta property="og:description" content="">
<meta property="og:image" content="https://mlr3pipelines.mlr-org.com/logo.png">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="icon" type="image/png" href="https://mlr-org.github.io/mlr/favicon.ico">
<link rel="apple-touch-icon" type="image/png" href="https://mlr-org.github.io/mlr/favicon.ico">
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html"></a>
      </div>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Basics
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/introduction.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/a_simple_pipeline.html">A simple pipeline</a>
    </li>
    <li>
      <a href="../articles/basic_concepts.html">Showcase: Basic Concepts: PipeOp and Graph</a>
    </li>
    <li>
      <a href="../articles/branching.html">Showcase: Branching</a>
    </li>
    <li>
      <a href="../articles/stacking_and_bagging.html">Showcase: Bagging and Stacking</a>
    </li>
    <li>
      <a href="../articles/create_a_custom_pipeop.html">Custom PipeOps</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Appendix
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../reference/index.html">Function Reference</a>
    </li>
    <li>
      <a href="../news/index.html">News</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mlr-org/mlr3pipelines">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://mlr-org.slack.com">
    <span class="fa fa-slack"></span>
     
  </a>
</li>
<li>
  <a href="https://stackoverflow.com/questions/tagged/mlr">
    <span class="fa fa-stack-overflow"></span>
     
  </a>
</li>
<li>
  <a href="https://mlr-org.com/">
    <span class="fa fa-rss"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Showcase: A simple pipeline</h1>
                        <h4 class="author">Florian Pfisterer</h4>
            
            <h4 class="date">2019-05-08</h4>
      
      <!--The 'toc' block was inserted manually by @pat-s. It triggeres the inline ToC in the vignettes.-->
            <div id="toc">
      <h3 class="hasAnchor">
<a href="#toc" class="anchor"></a>Table of Contents</h3>
      <ul>
<li>
<a href="#an-introduction-to-pipeops">An introduction to “PipeOp”s</a><ul>
<li><a href="#a-quick-glance-into-a-pipeop">A quick glance into a PipeOp</a></li>
      </ul>
</li>
      <li><a href="#constructing-the-pipeline">Constructing the Pipeline</a></li>
      <li><a href="#using-the-pipeline-as-an-mlr3-learner">Using the Pipeline as an mlr3 learner</a></li>
      </ul>
</div>
      
      <small>Source: <a href="https://github.com/mlr-org/mlr3pipelines/blob/master/vignettes/a_simple_pipeline.Rmd"><code>vignettes/a_simple_pipeline.Rmd</code></a></small>

    </div>

    
    
<div class="contents">
<p>This vignette showcases the general syntax and semantic behind <code>mlr3pipelines</code>.</p>
<div id="an-introduction-to-pipeops" class="section level2">
<h2 class="hasAnchor">
<a href="#an-introduction-to-pipeops" class="anchor"></a>An introduction to “PipeOp”s</h2>
<p>In this example, we create a ĺinear Pipeline. After scaling all input features, we rotate our data using principal component analysis. After this transformation, we use a simple Decision Tree learner for classification.</p>
<p>As exemplary data, we will use the “<code>iris</code>” classification task. This object contains the famous iris dataset and some meta-information, such as the target variable.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1">  <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(mlr3)</a>
<a class="sourceLine" id="cb1-2" title="2">  task =<span class="st"> </span>mlr_tasks<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/get">get</a></span>(<span class="st">"iris"</span>)</a></code></pre></div>
<p>We quickly split our data into a train and a test set:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1">  test.idx =<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sample">sample</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/seq">seq_len</a></span>(task<span class="op">$</span>nrow), <span class="dv">30</span>)</a>
<a class="sourceLine" id="cb2-2" title="2">  train.idx =<span class="st"> </span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/sets">setdiff</a></span>(<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/seq">seq_len</a></span>(task<span class="op">$</span>nrow), test.idx)</a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="co"># Set task to only use train indexes</span></a>
<a class="sourceLine" id="cb2-4" title="4">  task<span class="op">$</span>row_roles<span class="op">$</span>use =<span class="st"> </span>train.idx</a></code></pre></div>
<p>A Pipeline (or <code>Graph</code>) contains multiple pipeline operators (“<code>PipeOp</code>”s), where each <code>PipeOp</code> transforms the data when it flows through it. For this usecase, we require 3 transformations:</p>
<ul>
<li>A <code>PipeOp</code> that scales the data</li>
<li>A <code>PipeOp</code> that performs PCA</li>
<li>A <code>PipeOp</code> that contains the <strong>Decision Tree</strong> learner</li>
</ul>
<p>A list of available <code>PipeOp</code>s can be obtained from</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1">  <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(mlr3pipelines)</a>
<a class="sourceLine" id="cb3-2" title="2">  mlr_pipeops<span class="op">$</span><span class="kw">keys</span>()</a>
<a class="sourceLine" id="cb3-3" title="3"><span class="co">#&gt;  [1] "backuplearner"     "balancesample"     "branch"           </span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="co">#&gt;  [4] "chunk"             "copy"              "encode"           </span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="co">#&gt;  [7] "featureunion"      "filter"            "impute"           </span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="co">#&gt; [10] "learner"           "learner_cv"        "majorityvote"     </span></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="co">#&gt; [13] "modelavg"          "nloptmajorityvote" "nloptmodelavg"    </span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="co">#&gt; [16] "null"              "pca"               "scale"            </span></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="co">#&gt; [19] "subsample"         "unbranch"</span></a></code></pre></div>
<p>First we define the required <code>PipeOp</code>s:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">  op1 =<span class="st"> </span>PipeOpScale<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb4-2" title="2">  op2 =<span class="st"> </span>PipeOpPCA<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb4-3" title="3">  op3 =<span class="st"> </span>PipeOpLearner<span class="op">$</span><span class="kw">new</span>(<span class="dt">learner =</span> mlr_learners<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/get">get</a></span>(<span class="st">"classif.rpart"</span>))</a></code></pre></div>
<p>We can quickly visualize what we want to achieve:</p>
<pre><code>#&gt; Registered S3 methods overwritten by 'ggplot2':
#&gt;   method         from 
#&gt;   [.quosures     rlang
#&gt;   c.quosures     rlang
#&gt;   print.quosures rlang</code></pre>
<p><img src="a_simple_pipeline_files/figure-html/unnamed-chunk-5-1.png" width="672"></p>
<div id="a-quick-glance-into-a-pipeop" class="section level3">
<h3 class="hasAnchor">
<a href="#a-quick-glance-into-a-pipeop" class="anchor"></a>A quick glance into a PipeOp</h3>
<p>In order to get a better understanding of what the respective PipeOps do, we quickly look at one of them in detail:</p>
<p>The most important slots in a PipeOp are:</p>
<ul>
<li>
<code>$train()</code>: A function used to train the PipeOp.</li>
<li>
<code>$predict()</code>: A function used to predict with the PipeOp.</li>
</ul>
<p>The <code>$train()</code> and <code>$predict()</code> functions define the core functionality of our PipeOp. In many cases, in order to not leak information from the training set into the test set it is imperative to treat train and test data separately. For this we require a <code>$train()</code> function that learns the appropriate transformations from the training set and a <code>$test()</code> function that applies the transformation on future data.</p>
<p>In the case of <code>PipeOpPCA</code> this means the following:</p>
<ul>
<li>
<code>$train()</code> learns a rotation matrix from its input and saves this matrix to an additional slot, <code>$state</code>. It returns the rotated input data stored in a new <code>Task</code>.</li>
<li>
<code>$predict()</code> uses the rotation matrix stored in <code>$state</code> in order to rotate future, unseen data. It returns those in a new <code>Task</code>.</li>
</ul>
</div>
</div>
<div id="constructing-the-pipeline" class="section level2">
<h2 class="hasAnchor">
<a href="#constructing-the-pipeline" class="anchor"></a>Constructing the Pipeline</h2>
<p>We can now connect the <code>PipeOp</code>s constructed earlier to a <strong>Pipeline</strong>. We can do this using the <code>%&gt;&gt;%</code> operator.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">  linear_pipeline =<span class="st"> </span>op1 <span class="op">%&gt;&gt;%</span><span class="st"> </span>op2 <span class="op">%&gt;&gt;%</span><span class="st"> </span>op3</a></code></pre></div>
<p>The result of this operation is a “<code>Graph</code>”. A <code>Graph</code> connects the input and output of each <code>PipeOp</code> to the following <code>PipeOp</code>. This allows us to specify linear processing pipelines. In this case, we connect the output of the <strong>scaling</strong> PipeOp to the input of the <strong>PCA</strong> PipeOp and the output of the <strong>PCA</strong> PipeOp to the input of <strong>PipeOpLearner</strong>.</p>
<p>We can now train the <code>Graph</code> using the <code>iris</code> <strong>Task</strong>.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1">  linear_pipeline<span class="op">$</span><span class="kw">train</span>(task)</a>
<a class="sourceLine" id="cb7-2" title="2"><span class="co">#&gt; $classif.rpart.output</span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="co">#&gt; NULL</span></a></code></pre></div>
<p>When we now train the graph, the data flows through the graph as follows:</p>
<ul>
<li>The Task flows into the <code>PipeOpScale</code>. The <code>PipeOp</code> scales each column in the data contained in the Task and returns a new Task that contains the scaled data to its output.</li>
<li>The scaled task flows into the <code>PipeOpPCA</code>. PCA transforms the data and returns a (possibly smaller) Task, that contains the transformed data.</li>
<li>This transformed data then flows into the learner, in our case <strong>classif.rpart</strong>. It is then used to train the learner, and as a result saves a model that can be used to predict new data.</li>
</ul>
<p>In order to predict on new data, we need to save the relevant transformations our data went through while training. As a result, each <code>PipeOp</code> saves a state, where information requried to appropriately transform future data is stored. In our case, this is <strong>mean</strong> and <strong>standard deviation</strong> of each column for <code>PipeOpScale</code>, the PCA rotation matrix for <code>PipeOpPCA</code> and the learned model for <code>PipeOpLearner</code>.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">  <span class="co"># predict on test.idx</span></a>
<a class="sourceLine" id="cb8-2" title="2">  task<span class="op">$</span>row_roles<span class="op">$</span>use =<span class="st"> </span>test.idx</a>
<a class="sourceLine" id="cb8-3" title="3">  linear_pipeline<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(task)</a>
<a class="sourceLine" id="cb8-4" title="4"><span class="co">#&gt; $classif.rpart.output</span></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="co">#&gt; &lt;PredictionClassif&gt; for 30 observations:</span></a>
<a class="sourceLine" id="cb8-6" title="6"><span class="co">#&gt;     row_id     truth  response</span></a>
<a class="sourceLine" id="cb8-7" title="7"><span class="co">#&gt;  1:      1    setosa    setosa</span></a>
<a class="sourceLine" id="cb8-8" title="8"><span class="co">#&gt;  2:      6    setosa    setosa</span></a>
<a class="sourceLine" id="cb8-9" title="9"><span class="co">#&gt;  3:     12    setosa    setosa</span></a>
<a class="sourceLine" id="cb8-10" title="10"><span class="co">#&gt; ---                           </span></a>
<a class="sourceLine" id="cb8-11" title="11"><span class="co">#&gt; 28:    129 virginica virginica</span></a>
<a class="sourceLine" id="cb8-12" title="12"><span class="co">#&gt; 29:    143 virginica virginica</span></a>
<a class="sourceLine" id="cb8-13" title="13"><span class="co">#&gt; 30:    147 virginica virginica</span></a></code></pre></div>
</div>
<div id="using-the-pipeline-as-an-mlr3-learner" class="section level2">
<h2 class="hasAnchor">
<a href="#using-the-pipeline-as-an-mlr3-learner" class="anchor"></a>Using the Pipeline as an mlr3 learner</h2>
<p>In most cases, we want to use the pipeline just like an <strong>mlr3</strong> learner. In order to achieve this, we simply construct a <code>GraphLearner</code> that contains the pipeline we defined.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1">  graph_lrn =<span class="st"> </span>GraphLearner<span class="op">$</span><span class="kw">new</span>(linear_pipeline)</a></code></pre></div>
<p>We can now use this learner in order to create an [mlr3::Experiment].</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1">  task =<span class="st"> </span>mlr_tasks<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/get">get</a></span>(<span class="st">"iris"</span>)</a>
<a class="sourceLine" id="cb10-2" title="2">  e =<span class="st"> </span>Experiment<span class="op">$</span><span class="kw">new</span>(<span class="dt">task =</span> task, <span class="dt">learner =</span> graph_lrn)</a></code></pre></div>
<p>For training:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1">  e<span class="op">$</span><span class="kw">train</span>(train.idx)</a>
<a class="sourceLine" id="cb11-2" title="2"><span class="co">#&gt; INFO [mlr3] Training learner 'scale.pca.classif.rpart' on task 'iris' ...</span></a>
<a class="sourceLine" id="cb11-3" title="3"><span class="co">#&gt; &lt;Experiment&gt; [trained]:</span></a>
<a class="sourceLine" id="cb11-4" title="4"><span class="co">#&gt;  + Task: iris</span></a>
<a class="sourceLine" id="cb11-5" title="5"><span class="co">#&gt;  + Learner: scale.pca.classif.rpart</span></a>
<a class="sourceLine" id="cb11-6" title="6"><span class="co">#&gt;  + Model: [Graph]</span></a>
<a class="sourceLine" id="cb11-7" title="7"><span class="co">#&gt;  - Predictions: [missing]</span></a>
<a class="sourceLine" id="cb11-8" title="8"><span class="co">#&gt;  - Performance: [missing]</span></a>
<a class="sourceLine" id="cb11-9" title="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb11-10" title="10"><span class="co">#&gt; Public: clone(), ctrl, data, has_errors, hash, learner, log(),</span></a>
<a class="sourceLine" id="cb11-11" title="11"><span class="co">#&gt;   model, performance, predict(), prediction, score(), seeds,</span></a>
<a class="sourceLine" id="cb11-12" title="12"><span class="co">#&gt;   state, task, test_set, timings, train_set, train(),</span></a>
<a class="sourceLine" id="cb11-13" title="13"><span class="co">#&gt;   validation_set</span></a>
<a class="sourceLine" id="cb11-14" title="14">  e<span class="op">$</span>model</a>
<a class="sourceLine" id="cb11-15" title="15"><span class="co">#&gt; Graph with 3 PipeOps:</span></a>
<a class="sourceLine" id="cb11-16" title="16"><span class="co">#&gt;             ID                 State      sccssors prdcssors</span></a>
<a class="sourceLine" id="cb11-17" title="17"><span class="co">#&gt;          scale                &lt;list&gt;           pca          </span></a>
<a class="sourceLine" id="cb11-18" title="18"><span class="co">#&gt;            pca              &lt;prcomp&gt; classif.rpart     scale</span></a>
<a class="sourceLine" id="cb11-19" title="19"><span class="co">#&gt;  classif.rpart &lt;LearnerClassifRpart&gt;                     pca</span></a></code></pre></div>
<p>testing:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1">  e<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/stats/topics/predict">predict</a></span>(test.idx)</a>
<a class="sourceLine" id="cb12-2" title="2"><span class="co">#&gt; INFO [mlr3] Predicting with model of learner 'scale.pca.classif.rpart' on task 'iris' ...</span></a>
<a class="sourceLine" id="cb12-3" title="3"><span class="co">#&gt; &lt;Experiment&gt; [predicted]:</span></a>
<a class="sourceLine" id="cb12-4" title="4"><span class="co">#&gt;  + Task: iris</span></a>
<a class="sourceLine" id="cb12-5" title="5"><span class="co">#&gt;  + Learner: scale.pca.classif.rpart</span></a>
<a class="sourceLine" id="cb12-6" title="6"><span class="co">#&gt;  + Model: [Graph]</span></a>
<a class="sourceLine" id="cb12-7" title="7"><span class="co">#&gt;  + Predictions: [PredictionClassif]</span></a>
<a class="sourceLine" id="cb12-8" title="8"><span class="co">#&gt;  - Performance: [missing]</span></a>
<a class="sourceLine" id="cb12-9" title="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb12-10" title="10"><span class="co">#&gt; Public: clone(), ctrl, data, has_errors, hash, learner, log(),</span></a>
<a class="sourceLine" id="cb12-11" title="11"><span class="co">#&gt;   model, performance, predict(), prediction, score(), seeds,</span></a>
<a class="sourceLine" id="cb12-12" title="12"><span class="co">#&gt;   state, task, test_set, timings, train_set, train(),</span></a>
<a class="sourceLine" id="cb12-13" title="13"><span class="co">#&gt;   validation_set</span></a>
<a class="sourceLine" id="cb12-14" title="14">  e<span class="op">$</span>prediction</a>
<a class="sourceLine" id="cb12-15" title="15"><span class="co">#&gt; &lt;PredictionClassif&gt; for 30 observations:</span></a>
<a class="sourceLine" id="cb12-16" title="16"><span class="co">#&gt;     row_id     truth  response</span></a>
<a class="sourceLine" id="cb12-17" title="17"><span class="co">#&gt;  1:      1    setosa    setosa</span></a>
<a class="sourceLine" id="cb12-18" title="18"><span class="co">#&gt;  2:      6    setosa    setosa</span></a>
<a class="sourceLine" id="cb12-19" title="19"><span class="co">#&gt;  3:     12    setosa    setosa</span></a>
<a class="sourceLine" id="cb12-20" title="20"><span class="co">#&gt; ---                           </span></a>
<a class="sourceLine" id="cb12-21" title="21"><span class="co">#&gt; 28:    129 virginica virginica</span></a>
<a class="sourceLine" id="cb12-22" title="22"><span class="co">#&gt; 29:    143 virginica virginica</span></a>
<a class="sourceLine" id="cb12-23" title="23"><span class="co">#&gt; 30:    147 virginica virginica</span></a></code></pre></div>
<p>and scoring:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1">  e<span class="op">$</span><span class="kw">score</span>()</a>
<a class="sourceLine" id="cb13-2" title="2"><span class="co">#&gt; INFO [mlr3] Scoring predictions of learner 'scale.pca.classif.rpart' on task 'iris' ...</span></a>
<a class="sourceLine" id="cb13-3" title="3"><span class="co">#&gt; &lt;Experiment&gt; [scored]:</span></a>
<a class="sourceLine" id="cb13-4" title="4"><span class="co">#&gt;  + Task: iris</span></a>
<a class="sourceLine" id="cb13-5" title="5"><span class="co">#&gt;  + Learner: scale.pca.classif.rpart</span></a>
<a class="sourceLine" id="cb13-6" title="6"><span class="co">#&gt;  + Model: [Graph]</span></a>
<a class="sourceLine" id="cb13-7" title="7"><span class="co">#&gt;  + Predictions: [PredictionClassif]</span></a>
<a class="sourceLine" id="cb13-8" title="8"><span class="co">#&gt;  + Performance: classif.ce=0.1333333</span></a>
<a class="sourceLine" id="cb13-9" title="9"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb13-10" title="10"><span class="co">#&gt; Public: clone(), ctrl, data, has_errors, hash, learner, log(),</span></a>
<a class="sourceLine" id="cb13-11" title="11"><span class="co">#&gt;   model, performance, predict(), prediction, score(), seeds,</span></a>
<a class="sourceLine" id="cb13-12" title="12"><span class="co">#&gt;   state, task, test_set, timings, train_set, train(),</span></a>
<a class="sourceLine" id="cb13-13" title="13"><span class="co">#&gt;   validation_set</span></a>
<a class="sourceLine" id="cb13-14" title="14">  e<span class="op">$</span>performance[<span class="st">"classif.ce"</span>]</a>
<a class="sourceLine" id="cb13-15" title="15"><span class="co">#&gt; classif.ce </span></a>
<a class="sourceLine" id="cb13-16" title="16"><span class="co">#&gt;  0.1333333</span></a></code></pre></div>
<p>This allows us to seamlessly integrate pipelines with the whole <a href="https://mlr3.mlr-org.com">mlr3</a> ecosystem, and thus for example resample or benchmark pipelines, tune its params, and many more things.</p>
<p>For additional information on <code>mlr3</code> please refer to the respective vignettes.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#an-introduction-to-pipeops">An introduction to “PipeOp”s</a><ul class="nav nav-pills nav-stacked">
<li><a href="#a-quick-glance-into-a-pipeop">A quick glance into a PipeOp</a></li>
      </ul>
</li>
      <li><a href="#constructing-the-pipeline">Constructing the Pipeline</a></li>
      <li><a href="#using-the-pipeline-as-an-mlr3-learner">Using the Pipeline as an mlr3 learner</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><!--<div class="copyright">
  <p>Developed by Martin Binder.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>
--></footer>
</div>

   

  </body>
</html>
